# Веб-сервис R

#### Данный сервис (Container 1) имеет два интерфейса:

#### а) REST API для взаимодействия с пользователями;

#### б) SOAP для взаимодействия с другими системами.

#### Внутри этого сервиса реализованы алгоритмы трансформации данных из JSON в XML и обратно.

## Как взаимодействовать?
#### SWAGGER http://localhost:8080/swagger-ui/index.html

### 1) Регистрация сайта.

#### - Сервисом могут пользоваться разные сайты. Каждому сайту выдается пару пароль и логин. Чтобы зарегистрировать сайт в систему нужно отправить запроса.

__REQUEST__
_POST_ `/registration`

```json
{
  "site": "job4j.ru"
}
```

__RESPONSE__
```json
{
"registration" : true/false, 
"login": УНИКАЛЬНЫЙ_КОД, 
"password" : УНИКАЛЬНЫЙ_КОД
}
```


### 2) Авторизация.

#### - Пользователь отправляет POST запрос с login и password и получает ключ. Этот ключ отправляет в запросе в блоке HEAD.

Authorization: Bearer e25d31c5-db66-4cf2-85d4-8faa8c544ad6


### 3) Регистрация URL.

#### - Поле того, как пользователь зарегистрировал свой сайт он может отправлять на сайт ссылки и получать преобразованные ссылки.

__REQUEST__
_POST_ `/convert`

```json
{
  "url": "https://job4j.ru/profile/exercise/106/task-view/532"
}
```

__RESPONSE__
```json
{
"code" : УНИКАЛЬНЫЙ_КОД
}
```

### 4) Переадресация. Выполняется без авторизации.

#### Когда сайт отправляет ссылку с кодом в ответ возвращается ассоциированный адрес и статус 302.

__REQUEST__
_GET_ `/redirect/УНИКАЛЬНЫЙ_КОД`

__RESPONSE__

HTTP CODE - 302 REDIRECT URL

### 5) Статистика.

#### В сервисе считается количество вызовов каждого адреса. По сайту можно получить статистку всех адресов и количество вызовов этого адреса.

__REQUEST__
_GET_ `/statistic`

__RESPONSE__
```json
[
    {
      "url": "URL",
      "total": 0
    },
    {
      "url": "https://job4j.ru/profile/exercise/106/task-view/532", 
      "total": 103
    }
]
```


## Стек технологий:

#### - Java 17

## Требования к окружению

#### - Java 17, Maven 4.0

## Контакты

#### - @urmoonfriend



